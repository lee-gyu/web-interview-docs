# 외부 라이브러리 의존성에 대해

> 모든걸 전부 만들기는 어렵고, 다른 것을 의존해서 사용할 뿐이다.

IT 기술은 빠르게 발전하고 있다. 다른 사람이 만들어 놓은 프로그램을 자신의 프로그램에 적용 하는 것이 크게 어렵지 않으며, 그것을 통해 더욱 더 창의적이고, 다양한 솔루션을 만들어낼 수 있다.

## 라이브러리 의존성이 높은 프로그램

많은 라이브러리를 조합하여 의존성이 높은 프로그램은 일반적인 기능들을 빠르게 개발해나갈 수 있다.

단, 의존되는 라이브러리에 문제가 생기면 프로그램도 같이 문제가 발생한다. 이는 개발자가 기능을 커스터마이징할 때, 문제가 커질 수 있다.

의존성으로 추가된 패키지의 API 문서를 잘 읽어야 하며, 어떤 기술을 기반으로, 어떤 I/O가 발생하는지 알아야 적절한 코드 패턴으로 작성할 수 있다.

- 장점
  - 일반적인 S/W 문제를 빠르게 해결할 수 있는 도구를 얻는다.
  - 기술 문서에 필요한 코드 패턴이나, 필요한 API들이 정리되어 있다.
  - 신규 개발자를 뽑을 때, 해당 의존성에 대한 경험으로 쉽게 채용할 수 있다.

- 단점
  - 추상화된 부분이 많으므로, 실제 동작하는 원리를 자세히 보지 않는다.
  - 필요없는 소스 코드도 같이 포함되어 있어, 불필요한 용량을 차지한다.
  - 의존성의 기능을 커스터마이징 해야하는 상황에서 어려움이 발생한다.

## 라이브러리 의존성이 낮은 프로그램

여러 라이브러리의 의존성이 낮추기 위해서는 필요한 범용적인 기능의 모듈들을 직접 구현하면 된다. 여기서 발생하는 최소한의 의존성은 구동되는 플랫폼의 버전 정도는 가지게 될 것이다. 이는 구동되는 브라우저 버전, Node 버전, 자바 버전 등이 될 것이다.

직접 구현하게 된다면, 필요 없는 코드 없이, 순수 기능에만 집중하므로, 불필요한 코드 없이 가벼운 모듈을 작성할 수 있다.

이때는 많은 기능을 직접 구현해야 하므로, 모듈을 개발하는 개발자 역량이 중요하며, 잘못된 설계를 하게 되면, 오히려 다른 라이브러리를 적용하는 것이 훨씬 나았을 결과를 초래하고 시간도 낭비하게 되며, 만든 모듈을 위한 문서화도 별도로 진행해야하는 번거로움도 있다.

- 장점
  - 필요한 코드만 작성하므로, 불필요한 용량을 차지하지 않는다.
  - 내부 동작을 자세히 알고 있으므로, 커스터마이징에 부담이 적다.
- 단점
  - 모든 기능을 직접 구현해야 하므로, 개발 시간이 오래 걸린다.
  - 모듈 개발자의 역량이 중요하다.
  - 신규 개발자 채용이 어려우며, 온보딩 과정에서 시간이 조금 더 소요된다.

## 의존성의 종류

의존성은 다양한 형태로 존재할 수 있다. 같은 패키지 내의 다른 클래스를 참조하는 것부터, 아예 다른 패키지의 클래스나 함수를 참조하는 것까지 다양하다.

이 글에서는 외부 패키지에 대한 것만 다루므로 라이브러리와 프레임워크 정도로 의존성을 나누어 정리한다.

### 라이브러리

> 필요한 기능을 제공하는 모듈

여러 시행 착오를 통해 프로그램에서 필요한 특정한 기능들을 제공해주는 것을 라이브러리로 볼 수 있다. 단순하게 아래 것들을 예로 들 수 있다.

- 네트워크 I/O 라이브러리
- 암호화 라이브러리
- UI 컴포넌트 라이브러리
- Collection 유틸 라이브러리 등

라이브러리만으로는 프로그램 구동에 대한 것이 포함되어 있지 않으므로, 프로그램에서 라이브러리를 활용하여야 한다. 라이브러리에서 제공하는 API를 통해 특정한 목적의 기능을 호출하여 사용할 수 있고, 특정 고수준 기능을 위해 여러 라이브러리를 결합하여 빠르게 구현할 수 있다.

### 프레임워크

> 프로그램의 기본 구조를 제공하는 모듈

특정 목적의 프로그램의 구조 자체를 제공하는 것을 프레임워크라고 한다. 프레임워크는 프로그램의 기본 구조를 제공하므로, 그 구조에 맞게 프로그램을 작성해야 한다. 개발자는 프레임워크의 내부 구조를 깊이 있게 이해하여야 하며, 프레임워크는 이미 필요한 구조들이 구현되어 있으므로, 특정 목적의 프로그램을 빠르게 구현할 수 있다.

프레임워크의 내부 구조에 대한 이해도가 중요한데, 프레임워크에서 제공하는 기본 구조에서 벗어나는 커스터마이징은 어려우며, 프레임워크의 버전 업데이트 시 발생하는 여파를 반드시 파악하여야 한다.

백엔드 사이드의 웹 애플리케이션 서버를 위한 프레임워크로는 스프링 같은 것들이 있으며, 프론트엔드 사이드에서는 웹 애플리케이션 프레임워크로 Next.js, Vue, Svelte 등이 있다.

리액트는 일종의 UI 라이브러리로 분류하고 있기는 한데, 리액트 자체적으로는 UI를 구현하는데 필요한 기능들만 제공하고 있으며, 웹 애플리케이션을 위한 구조를 제공하지는 않는다. 그덕에 리액트를 이용하면 웹 애플리케이션의 커스터마이징이 용이하고, 의존성이 낮은 기반의 웹 애플리케이션을 구현할 수 있다.

## 결론

대부분의 IT 회사는 많은 오픈소스 라이브러리르 결합하여, 소프트웨어를 개발하고 있다.일반적으로 회사에서 요구하는 것은 대부분이 일반화 되어 있어 기본 프로그램의 골격은 프레임워크로 시작하고, 오픈소스 라이브러리룰 결합하여 개발되는 것이 일반적이다.

외부 라이브러리 의존성이 높으면, 점점 더 많은 의존성으로, 개발자는 의존성을 이해하는데 많은 시간을 할애하게 되고, 시간이 지나면 의존성을 관리하는게 어려워진다. 하나의 의존성을 업데이트 하는데에 어떤 문제가 발생할지 누구도 책임질 수 없기 때문이다.

낮은 의존성을 유지한다면, 초기 개발 생산성이 떨어지고, 개발자 채용과 온보딩에 어려움을 겪게된다. 웃기게도, 낮은 외부 라이브러리 의존성의 프로그램은 기존의 코어 모듈을 개발한 개발자에 대한 의존성이 생긴다. 이로인해 회사도, 개발자도 채용 시장에서 어려움을 가지게 된다.

그러므로, 요즘 IT 시장은 개발자들이 가질 수 있는 공통의 지식을 기반으로 소프트웨어를 설계하며, 이를 통해 빠른 개발자 순환과 개발 생산성을 높이고 있다.

라이브러리를 이것저것 다 가져와 쓰는 것은 매우 위험하지만, 그렇다고, 모든 기능을 다 스스로 개발하는 것도 시간적으로 힘든 일이다. 모든 것은 트레이드오프이다. 어느 정도의 의존성을 가지는 것이 적절한지는 개발자의 역량과, 프로젝트의 성격에 따라 다르다.

적절한 라이브러리 사용과, 일부 내부 모듈 개발 중간점을 찾아, 회사 문화와 개발 환경, 프로젝트 성격에 적합한 방식을 선정하는 것이 좋겠다.

모든 편에서 생각해보고 적절한 중간점을 찾아보자.
